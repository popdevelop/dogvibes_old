<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>GUI a la Spotify</title>
    <link rel="stylesheet" type="text/css" href="extjs/resources/css/ext-all.css" />
    <script type="text/javascript" src="extjs/adapter/ext/ext-base.js"></script>
    <script type="text/javascript" src="extjs/ext-all-debug.js"></script>
    <script type="text/javascript">

		Ext.onReady(function() {

			Ext.state.Manager.setProvider(new Ext.state.CookieProvider());

			    var myData = [
			    ['Wonderwall', "Oasis", 165, "What's the Story Morning Glory"],
		        ['Live Forever', "Oasis", 212, "Definately Maybe"],
		        ['Until it Sleeps', "Metallica" ,254, "Metallica"],
		        ['156', "Mew", 312, "Frengers"],
		        ['Wonderwall', "Oasis", 165, "What's the Story Morning Glory"],
		        ['Live Forever', "Oasis", 212, "Definately Maybe"],
		        ['Until it Sleeps', "Metallica" ,254, "Metallica"],
		        ['156', "Mew", 312, "Frengers"],
			    ['Wonderwall', "Oasis", 165, "What's the Story Morning Glory"],
		        ['Live Forever', "Oasis", 212, "Definately Maybe"],
		        ['Until it Sleeps', "Metallica" ,254, "Metallica"],
		        ['156', "Mew", 312, "Frengers"],
			    ['Wonderwall', "Oasis", 165, "What's the Story Morning Glory"],
		        ['Live Forever', "Oasis", 212, "Definately Maybe"],
		        ['Until it Sleeps', "Metallica" ,254, "Metallica"],
		        ['156', "Mew", 312, "Frengers"],
			    ['Wonderwall', "Oasis", 165, "What's the Story Morning Glory"],
		        ['Live Forever', "Oasis", 212, "Definately Maybe"],
		        ['Until it Sleeps', "Metallica" ,254, "Metallica"],
		        ['156', "Mew", 312, "Frengers"],
			    ['Wonderwall', "Oasis", 165, "What's the Story Morning Glory"],
		        ['Live Forever', "Oasis", 212, "Definately Maybe"],
		        ['Until it Sleeps', "Metallica" ,254, "Metallica"],
		        ['156', "Mew", 312, "Frengers"],
			    ['Wonderwall', "Oasis", 165, "What's the Story Morning Glory"],
		        ['Live Forever', "Oasis", 212, "Definately Maybe"],
		        ['Until it Sleeps', "Metallica" ,254, "Metallica"],
		        ['156', "Mew", 312, "Frengers"],
			    ];

				function time(val) {
				  return (Math.floor(val / 60)) + ':' + val % 60;
				}

			    // create the data store
			    var store = new Ext.data.SimpleStore({
			        fields: [
			           {name: 'track'},
			           {name: 'artist'},
			           {name: 'time', type: 'int'},
			           {name: 'album'}
			        ]
			    });
			    store.loadData(myData);

			    // create the Grid
			    var grid = new Ext.grid.GridPanel({
			        store: store,
			        columns: [
			            {id:'track',header: "Track", width: 160, sortable: true, dataIndex: 'track'},
			            {header: "Artist", width: 75, sortable: true, dataIndex: 'artist'},
			            {header: "Time", width: 75, sortable: true, renderer: time, dataIndex: 'time'},
			            {header: "Album", width: 75, sortable: true, dataIndex: 'album'}
			        ],
			        stripeRows: true,
			        autoExpandColumn: 'track',
			        title:'Search results'
			    });

			timeSlider = new Ext.Slider({
				        width: '90%',
				        minValue: 0,
				        maxValue: 100
				    });
				
			


			var cont = new Ext.Container({
			  layout: 'form',
			  autoEl: 'div',
			  items: [{
			    height: 100,
			    html: 'Total No of Bad Records:150'
			  },
			  grid,
			  {
			    //height: 100,
			    html: 'Other Contant'
			  }]
			});

			tabs = new Ext.TabPanel({
	              region:'center',
	              deferredRender:false,
	              activeTab:1,
	              split: true,
	              items:[
				{
	                  title: 'Play queue',
	                  autoScroll:true
	              },
				    grid,
				    {
		                  title: 'Preferences',
		                  autoScroll:true
		              }
				  ]
	          });

	/*
			tabs.add({
			            title: 'New Tab',
			            html: 'Tab Body'
			        }).show();
	*/

	    playButton = new Ext.Button({
	        text: 'Play',
	        handler: addTab,
	    })

		function addTab(){
			if (playButton.getText() == 'Play')
				playButton.setText('Pause')
			else
				playButton.setText('Play')
	    }

		searchForm = new Ext.form.FormPanel({
		    labelWidth: 50,
		    bodyStyle:'padding:10px',
		    //width: 350,
		    //labelPad: 10,
		    border: false,
		    defaultType: 'textfield',
		    defaults: {
		        // applied to each contained item
		        width: 230,
		        msgTarget: 'side'
		    },
		    layoutConfig: {
		        // layout-specific configs go here
		        labelSeparator: ''
		    },
			items: [{
			            fieldLabel: 'Search',
			            name: 'query'
			        }],
			/*
			buttons: [{
			            text: 'Search'
			        }]
			*/
		});
		
		var Tree = Ext.tree;

	    var tree = new Tree.TreePanel({
		region: 'center',
	        animate:true,
	        enableDD:false,
		loader: new Tree.TreeLoader(), // Note: no dataurl, register a TreeLoader to make use of createNode()
		lines: true,
		selModel: new Ext.tree.MultiSelectionModel(),
	        containerScroll: false
	    });

	    // set the root node
	    var root = new Tree.TreeNode({
	        text: 'Playlists',
	        draggable:false,
	        id:'source'
	    });
	
		    tree.setRootNode(root);
		    // json data describing the tree
			var json = [
		{"text" : "New stuff", "id" : 100, "leaf" : false, "cls" : "folder", "children" : [ 
		    {"text" : "Albums", "id" : 1007, "leaf" : false, "cls" : "folder", "children" : 
		        [ {"text" : "Oasis - Standing on the Shoulders of Giants", "id" : "100000", "leaf" : true, "cls" : "file"},
		          {"text" : "I am Droid - Blood & Ether", "id" : "100001", "leaf" : true, "cls" : "file"}
		        ]
		    },
		    {"text" : "Single tracks", "id" : 1007, "leaf" : false, "cls" : "folder", "children" : 
		        [ {"text" : "Oasis - Standing on the Shoulders of Giants", "id" : "100000", "leaf" : true, "cls" : "file"},
		          {"text" : "I am Droid - Blood & Ether", "id" : "100001", "leaf" : true, "cls" : "file"}
		        ]
		    }]
		},

		{"text" : "Party", "id" : 1000, "leaf" : false, "cls" : "folder", "children" : [
		          {"text" : "Metallica - One", "id" : "100002", "leaf" : true, "cls" : "file"},
		    {"text" : "Dance", "id" : 1001, "leaf" : false, "cls" : "folder", "children" : 
		        [ {"text" : "Haddaway - What is love", "id" : "100000", "leaf" : true, "cls" : "file"},
		          {"text" : "2 Unlimited - No Limit", "id" : "100001", "leaf" : true, "cls" : "file"}
		        ]
		    },
		    {"text" : "Indie", "id" : 1002, "leaf" : false, "cls" : "folder", "children" : 
		        [ {"text" : "Sage - Fuel Economy", "id" : "100000", "leaf" : true, "cls" : "file"}
		        ]
		    },
		]
		}
		];

		    for(var i = 0, len = json.length; i < len; i++) {
		        root.appendChild(tree.getLoader().createNode(json[i]));
		    }
	


		  var viewport = new Ext.Viewport({
		    layout: 'border',
		    items:[
		      {
		        region: 'north',
	            height: 45,
				items: [searchForm]
		      },
		      {
		        region: 'west',
	            width: 172,
	            split: true,
				layout: 'border',
				items:[
				tree,
				/*
				{
		              region: 'center',
					  html: "playlists"
					  
		          },
		*/
		{
			          region: 'south',
					  height: 172,
	     			  html: '<img src="cover.jpg" width="172" height="172">'
		          }]
		      },
		      tabs,
		      {
		        region: 'south',
	            height: 60,
				layout: 'border',
				items:[{
	                  region: 'west',
					  width: 60,
					  items: [playButton]
	              },{
		              region: 'center',
					  items: [timeSlider]
		          },{
			          region: 'east',
					  width: 80,
					  items: [
						new Ext.Button({text: 'Shuffle'}),
						new Ext.Button({text: 'Repeat'}),					
					]
		          }]
		      },



		    ]
		  });
		});
		
		//tree.render();
	    //root.expand();

</script>

</head>
<body>
</body>
</html>
